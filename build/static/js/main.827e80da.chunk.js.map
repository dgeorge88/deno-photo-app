{"version":3,"sources":["components/Header.js","context/AppContext.js","hooks/useHover.js","components/Image.js","pages/Photos.js","pages/AddPhoto.js","App.js","index.js"],"names":["Header","to","className","Context","React","createContext","ContextProvider","props","useState","getImages","setImages","useEffect","fetchData","config","headers","a","axios","get","res","data","console","log","toggleFavorite","id","updatedPhotos","map","photo","isfavorite","put","deletePhoto","prevImages","filter","image","delete","addPhoto","post","message","Provider","value","children","useHover","hover","setHover","ref","useRef","enter","leave","current","addEventListener","removeEventListener","Image","context","useContext","displayFavorite","img","displayFav","onClick","trash","setTrash","displayBin","src","url","alt","description","tag","getClass","i","Photos","setTag","clickedTag","handleTagClick","e","target","TagHeader","key","AddPhoto","useForm","register","handleSubmit","errors","onSubmit","reset","type","name","placeholder","required","minLength","style","maxLength","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.827e80da.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <header>\r\n            <Link to=\"/\"><h2 className=\"photo-header\">Photo Viewer</h2></Link>\r\n            <Link to=\"/add\"><i className=\"ri-add-line\"></i></Link>\r\n        </header>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Context = React.createContext()\r\n\r\nconst ContextProvider = (props) => {\r\n\r\n    // const url = \"https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json\"\r\n\r\n    const [getImages, setImages] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    const config = {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    }\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const res = await axios.get(\"/api/photos/\", config)\r\n            const data = await res.data\r\n            setImages(data.data)\r\n        }\r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const toggleFavorite = async (id) => {\r\n\r\n        try {\r\n            const updatedPhotos = getImages.map(photo => {\r\n                if (photo.id === id) {\r\n                    //console.log(photo.id, !photo.isfavorite)\r\n                    return {\r\n                        ...photo,\r\n                        isfavorite: !photo.isfavorite\r\n                    }\r\n                }\r\n                return photo\r\n            })\r\n            setImages(updatedPhotos)\r\n            await axios.put(`/api/photo/update/${id}`, config)\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    // Delete Photo\r\n    const deletePhoto = async (id) => {\r\n\r\n        try {\r\n            setImages(prevImages => prevImages.filter(image => image.id !== id))\r\n            await axios.delete(`/api/photo/delete/${id}`)\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const addPhoto = async (photo) => {\r\n        // console.log(photo)\r\n        try {\r\n            \r\n            await axios.post(`/api/photos/add`, photo, config)\r\n            await fetchData()  \r\n            \r\n        } catch (error) {\r\n            console.log(error.message)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Context.Provider value={{ getImages, toggleFavorite, deletePhoto, addPhoto }}>\r\n            {props.children}\r\n        </Context.Provider >\r\n    )\r\n\r\n}\r\n\r\nexport { ContextProvider, Context }","import { useState, useEffect, useRef } from \"react\"\r\n\r\nconst useHover = () => {\r\n    const [hover, setHover] = useState(false)\r\n    const ref = useRef(null)\r\n\r\n    const enter = () => setHover(true)\r\n    const leave = () => setHover(false)\r\n\r\n    useEffect(() => {\r\n        ref.current.addEventListener(\"mouseenter\", enter)\r\n        ref.current.addEventListener(\"mouseleave\", leave)\r\n        return () => {\r\n            ref.current.removeEventListener(\"mouseenter\", enter)\r\n            ref.current.removeEventListener(\"mouseleave\", leave)\r\n        }\r\n    }, [])\r\n\r\n    return [hover, ref]\r\n}\r\n\r\nexport default useHover","import React, { useState, useContext } from 'react'\r\nimport PropTypes from \"prop-types\"\r\nimport { Context } from \"../context/AppContext\"\r\nimport useHover from \"../hooks/useHover\"\r\n\r\nconst Image = (props) => {\r\n\r\n    Image.propTypes = {\r\n        className: PropTypes.string,\r\n        img: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            url: PropTypes.string.isRequired,\r\n            isfavorite: PropTypes.bool\r\n        })\r\n    }\r\n\r\n    const [hover, ref] = useHover()\r\n    const context = useContext(Context)\r\n\r\n    const displayFavorite = props.img.isfavorite === true ? \"ri-heart-fill\" : \"ri-heart-add-line\"\r\n\r\n    const displayFav = hover &&\r\n        <i\r\n            className={`${displayFavorite} favorite`}\r\n            onClick={() => context.toggleFavorite(props.img.id)}\r\n        >\r\n        </i>\r\n\r\nconst [trash, setTrash] = useState(\"ri-delete-bin-line\")\r\n\r\n    const displayBin = hover && \r\n    <i className={`${trash} trash`}\r\n        onClick={() => {setTrash(\"ri-delete-bin-fill\"); context.deletePhoto(props.img.id)} }\r\n    ></i>\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <div className={`${props.className} image-container`} ref={ref}>\r\n            <img src={props.img.url} alt={props.img.description} className=\"image-grid\" tag={props.img.tag}/>\r\n            {displayFav}\r\n            {displayBin}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Image\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport  Image  from '../components/Image'\r\nimport { Context } from \"../context/AppContext\"\r\n\r\nconst getClass = (i) => {\r\n    if( i > 2){\r\n\r\n        if (i % 3 === 0) {\r\n            return 'big';\r\n        }\r\n        else if (i % 2 === 0) {\r\n            return 'wide'\r\n        }\r\n         return \"thumb\"\r\n    }\r\n    return \"big\"\r\n}\r\n\r\n\r\n\r\nconst Photos = () => {\r\n    const {getImages} = useContext(Context)\r\n    \r\n    const [tag, setTag] = useState([])\r\n\r\n    let clickedTag = \"\"\r\n    \r\n       useEffect(() => {\r\n        const data = getImages.map(image => image)\r\n        setTag(data)\r\n    }, [getImages])\r\n\r\n    const handleTagClick = (e) => {\r\n        clickedTag = e.target.id\r\n        if(clickedTag === \"all\"){ \r\n            setTag(getImages.map(image => image))\r\n        }else {\r\n            setTag(getImages.filter(image => image.tag === clickedTag))\r\n        }\r\n    }\r\n\r\n    const TagHeader = (\r\n            <div className=\"tag-header\">\r\n                <h1 id=\"all\" onClick={handleTagClick}>#All</h1>\r\n                <h1 id=\"other\" onClick={handleTagClick}>#Other</h1>\r\n                <h1 id=\"nature\" onClick={handleTagClick}>#Nature</h1>\r\n                <h1 id=\"city\" onClick={handleTagClick}>#City</h1>\r\n            </div>\r\n        )\r\n\r\n    return (\r\n        <>\r\n        {TagHeader}\r\n        <main className=\"photos\">\r\n            {/* {\r\n            getImages !== null ? getImages.map((img, i) => (\r\n                < Image key={img.id} img={img} className={getClass(i)} />\r\n                )) \r\n                : \r\n                (<h1>Loading...</h1>)\r\n            } */}\r\n\r\n            {tag !== null ? tag.map((img, i) => (< Image key={img.id} img={img} className={getClass(i)} />)) : (<h1>Loading...</h1>)}\r\n        </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Photos\r\n","import React, {useContext} from 'react'\r\nimport {useForm} from \"react-hook-form\"\r\nimport { Context } from \"../context/AppContext\"\r\n\r\nexport const AddPhoto = () => {\r\n\r\n    const {addPhoto} = useContext(Context)\r\n\r\n    const {register, handleSubmit, errors} = useForm()\r\n\r\n\r\n    const onSubmit = (data, e) => {\r\n        // console.log(data)\r\n        addPhoto(data)\r\n        e.target.reset()\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h1>Add A Photo</h1>\r\n            <p>Simply enter the URL of a Photo you would like to add to library and click Submit.</p>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input type=\"url\" name=\"url\" placeholder=\"Enter Picture URL\" ref={register({ required: true, minLength: 12 })}></input>\r\n                <br/>\r\n                {errors.url && <span style={{\"color\":\"red\"}}>You must enter a Photo URL.</span>}\r\n                <br/>\r\n\r\n                <input type=\"text\" name=\"description\" placeholder=\"Enter Picture Description\" ref={register({ required: true, minLength: 4, maxLength: 24 })}></input>\r\n                <br/>\r\n                {errors.description && <span style={{\"color\":\"red\"}}>You must enter a Photo Description.</span>}\r\n                <br/>\r\n\r\n                <select name=\"tag\" ref={register({required: true})}>\r\n                    <option value=\"\">-- Select a Category ---</option>\r\n                    <option value=\"other\">Other</option>\r\n                    <option value=\"nature\">Nature</option>\r\n                    <option value=\"city\">City</option>\r\n                </select>\r\n                <br/>\r\n                {errors.tag && <span style={{\"color\":\"red\"}}>You must select a Photo Tag.</span>}\r\n                <br/>\r\n\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Header } from './components/Header';\nimport  Photos  from \"./pages/Photos\"\nimport { AddPhoto } from \"./pages/AddPhoto\"\nimport { ContextProvider } from \"./context/AppContext\"\n\nfunction App() {\n  return (\n      <ContextProvider>\n\n      <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Photos />\n        </Route>\n        <Route path=\"/add\">\n          <AddPhoto />\n        </Route>\n      </Switch>\n      </Router>\n\n      </ContextProvider>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}